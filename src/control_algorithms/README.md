# Control System Comparison Platform

## 📋 项目简介

基于直流电机模型的状态反馈与输出反馈对比实验平台，使用 MATLAB/Simulink R2024a 开发，实现了多种控制策略的性能对比分析。

### 分支开发策略

| 分支类型 | 分支名称 | 创建状态 | 完成进度 | 作用 |
| :------- | :------- | :------- | :------- | :--- |
| 主分支 | master | ✅ 已创建 | ✅ 已完成 | 稳定版本发布分支 |
| 开发分支 | develop | ✅ 已创建 | ✅ 已完成 | 集成所有功能开发的主分支 |
| 功能分支 | feature/math-foundations | ✅ 已创建 | ✅ 已完成 | 数学基础强化实验 |
| 功能分支 | feature/control-theory | ✅ 已创建 | ✅ 部分完成 | 控制理论实践实验 |
| 功能分支 | feature/fuzzy-pid | ✅ 已创建 | ✅ 已完成 | 模糊PID控制器实现 |
| 功能分支 | feature/impedance-control | ✅ 已创建 | ✅ 已完成 | 阻抗控制实现 |
| 功能分支 | feature/adaptive-control | ✅ 已创建 | ✅ 已完成 | 自适应控制实现 |
| 功能分支 | feature/mpc | ✅ 已创建 | ✅ 已完成 | MPC实现 |
| 功能分支 | feature/matlab-simulink | ✅ 已创建 | ✅ 已完成 | MATLAB/Simulink深度使用 |
| 功能分支 | feature/cpp-eigen | ✅ 已创建 | ✅ 已完成 | C++/Eigen控制算法库搭建 |
| 功能分支 | feature/rk3588 | ✅ 已创建 | ⏳ 待开始 | RK3588开发环境搭建 |

### 分支开发流程

1. 从 `develop` 分支创建功能分支 `feature/xxx`
2. 在功能分支上完成开发和测试
3. 合并到 `develop` 分支进行集成测试
4. 最终从 `develop` 分支合并到 `master` 分支发布稳定版本

### 核心目标

- 对比状态反馈与输出反馈（PID）的性能差异
- 验证不同离散化方法（ZOH/FOH）的效果
- 提供自动化测试和性能评估框架
- 支持四大核心控制算法的学习和实验

## 🔧 核心功能

### 1. 多控制策略并行对比

| 控制策略         | 实现方式                | 主要特点            |
| :--------------- | :---------------------- | :------------------ |
| 状态反馈（连续） | K=[3,2.5]，直接向量反馈 | 快速响应，超调约10% |
| 输出反馈（PID）  | 离散PID控制器，Ts=0.1s  | 经典控制，易于实现  |
| 离散ZOH系统      | 零阶保持离散化          | 保持信号幅值        |
| 离散FOH系统      | Tustin方法近似          | 信号更平滑          |

### 2. 四大核心算法支持

- **模糊PID控制器**：基于49条模糊规则，高斯隶属度函数
- **阻抗控制**：二阶质量-弹簧-阻尼系统
- **自适应控制**：MIT规则 + RLS参数辨识
- **模型预测控制（MPC）**：10步预测时域，5步控制时域

### 3. 模块化系统架构

```
ControlSystem_Comparison_R2024a/
├── 状态反馈支路（连续）
│   ├── Sum_State → SS_State → Gain_K → 反馈
│   └── 输出：转速(x₁) + 电流(x₂)
├── 输出反馈支路（PID）
│   ├── Sum_Output → PID_Controller → SS_Output → 反馈
│   └── 输出：仅转速
├── 离散化支路
│   ├── SS_ZOH（零阶保持）
│   └── SS_FOH（一阶保持近似）
└── 信号处理与可视化
    ├── System_Selector（4选1切换）
    ├── Scope_Detailed（4通道对比显示）
    └── 性能指标实时计算
```

### 4. 自动化测试框架

- **一键式测试脚本**：`auto_test_R2024a.m`
- **性能指标自动计算**：超调量、调节时间、上升时间、ISE、IAE
- **结果可视化**：响应曲线对比 + 性能指标表格

## ⚙️ 系统要求

### 必需软件

- **MATLAB R2024a**（关键，版本兼容性重要）
- **Simulink**（基础模块库）
- **Control System Toolbox**（推荐，用于高级分析）

### 硬件建议

- **内存**：≥ 8GB（运行多个仿真时）
- **存储**：≥ 1GB 可用空间（保存仿真数据）
- **处理器**：多核支持（加速仿真）

## 📁 目录结构

```
MATLAB_EXPERIMENT/
├─Experiments/          # 所有实验代码和模型
│  ├─Math_Foundations/  # 数学基础实验
│  │  ├─Linear_Algebra  # 线性代数实验
│  │  ├─ODE_Solvers     # 常微分方程数值求解
│  │  └─Probability     # 概率论与随机过程
│  ├─Control_Theory/    # 控制理论实验
│  │  ├─Classical       # 经典控制理论
│  │  └─Modern          # 现代控制理论
│  ├─Algorithms/        # 四大核心算法
│  │  ├─Fuzzy_PID       # 模糊PID控制器
│  │  ├─Impedance_Control # 阻抗控制
│  │  ├─Adaptive_Control # 自适应控制
│  │  └─MPC             # 模型预测控制
│  ├─Toolchain/         # 工程工具链
│  │  ├─MATLAB_Simulink  # MATLAB/Simulink实践
│  │  └─Cplusplus_Eigen  # C++/Eigen控制算法库
│  └─Embedded/          # 嵌入式平台实验
│      └─RK3588         # RK3588开发板实验
├─Reports/              # 实验报告和分析结果
├─Utils/                # 通用工具函数和辅助代码
├─Doc/                  # 项目文档
│  ├─History/           # 历史文档
│  └─Task/              # 任务相关文档
└─README.md            # 项目说明文档
```

## 🚀 快速开始

### 1. 克隆仓库

```bash
git clone https://github.com/ZhangHalfGod/control-system-comparison-platform.git
cd control-system-comparison-platform
```

### 2. 打开MATLAB/Simulink

使用MATLAB R2024a打开项目文件夹。

### 3. 运行主脚本

在MATLAB命令窗口中运行主创建函数：

```matlab
ControlSystem_Comparison_Creator()
```

这将创建一个完整的Simulink模型，包含状态反馈、输出反馈、离散ZOH和离散FOH四种控制策略。

### 4. 运行测试脚本

运行自动化测试脚本，对比不同控制策略的性能：

```matlab
auto_test_ControlSystem_Comparison_R2024a()
```

## 🧪 实验内容

### 第一阶段实验

1. **数学基础强化实验**
   - 线性代数：矩阵运算、特征值分解、能控性/能观性验证
   - ODE数值解：龙格-库塔法实现、与MATLAB ODE求解器对比
   - 概率论与随机过程：卡尔曼滤波、RLS参数辨识

2. **控制理论实践实验**
   - 经典控制理论：PID深度实验、频域分析
   - 现代控制理论：状态空间设计、李雅普诺夫稳定性验证
   - 离散系统专题：多种离散化方法对比

3. **四大核心算法实验**
   - 模糊PID控制器：49条模糊规则、高斯隶属度函数
   - 阻抗控制：二阶质量-弹簧-阻尼系统
   - 自适应控制：MIT规则、RLS参数辨识
   - 模型预测控制：10步预测时域、5步控制时域

4. **工程工具链实验**
   - MATLAB/Simulink深度使用
   - C++/Eigen控制算法库搭建

5. **嵌入式平台实验**
   - RK3588开发环境搭建
   - Simulink到C++的移植测试

## 📊 性能评估指标

### 时域指标

- 超调量（Overshoot）
- 调节时间（Settling Time）
- 上升时间（Rise Time）
- 积分平方误差（ISE）
- 积分绝对误差（IAE）

### 计划添加的指标

- 频域指标：带宽、相位裕度、增益裕度
- 鲁棒性指标：灵敏度峰值、互补灵敏度峰值、扰动抑制能力
- 实现指标：控制能量消耗、计算复杂度、采样时间敏感性

## 🔄 后续开发

### 短期改进（1-2周）

1. **积分环节增强**：在状态反馈中添加积分器消除稳态误差
2. **自适应PID整定**：实现Ziegler-Nichols或CHR自动整定
3. **更丰富的离散化方法**：前向欧拉、后向欧拉、双线性变换、预翘曲双线性变换

### 中期扩展（1-2月）

1. **鲁棒性分析**：参数敏感性分析、鲁棒稳定性裕度计算、抗干扰性能测试
2. **先进控制策略**：LQR最优控制、滑模控制、模糊PID控制、模型预测控制（MPC）
3. **硬件在环（HIL）支持**：生成嵌入式代码、支持Arduino/STM32目标、实时仿真接口

### 长期规划（3-6月）

1. **云平台部署**：将实验平台部署到MATLAB Online、支持远程协作实验、实验结果云端存储
2. **机器学习集成**：使用强化学习优化控制器参数、神经网络PID整定、基于数据的控制器设计
3. **教育功能增强**：交互式教程系统、自动评分功能、实验报告生成器

## 🔧 技术支持

### 问题反馈渠道

1. **GitHub Issues**：代码问题和技术讨论
2. **MATLAB Answers**：MATLAB/Simulink相关问题
3. **邮件支持**：针对特定问题的深度支持

### 定期维护计划

- **每月**：检查版本兼容性
- **每季度**：更新示例和文档
- **每半年**：功能更新和性能优化

## 🤝 贡献指南

欢迎贡献代码、报告问题或提出改进建议！

1. **报告问题**：使用GitHub Issues提交问题
2. **代码贡献**：
   - Fork仓库
   - 创建特性分支
   - 提交更改
   - 创建Pull Request
3. **文档贡献**：
   - 更新README.md
   - 添加实验报告
   - 改进技术文档

## 📄 许可证

- **核心代码**：MIT许可证
- **文档**：Creative Commons Attribution 4.0
- **示例数据**：CC0 1.0 Universal

### 使用限制

- 教育用途：无限制
- 商业用途：需获得授权
- 修改分发：需保留原始署名

## ✅ 项目状态

| 方面     | 状态       | 完成度 |
| :------- | :--------- | :----- |
| 基础架构 | ✅ 完成     | 100%   |
| 核心功能 | ✅ 完成     | 100%   |
| 测试验证 | ✅ 完成     | 100%   |
| 文档完善 | ✅ 完成     | 100%   |
| 高级功能 | 🔄 规划中   | 30%    |

**当前版本**：v1.3（C++/Eigen控制算法库完成版）
**最后更新**：2025-12-23
**维护状态**：积极维护

## 📞 联系方式

如有任何问题或建议，请联系项目负责人：
- **总调度官**：负责项目协调和决策
- **思维帝**：负责分析和验证
- **背锅侠**：负责修复和维护
- **牛马弟**：负责实现和测试
- **暖心姐姐**：负责文档和支持

## 📚 学习资源

- MIT 18.065线性代数课程（Gilbert Strang）
- MATLAB Control System Toolbox文档
- Eigen库官方文档
- 现代控制理论教材（刘豹）
- 自动控制原理教材（胡寿松）

---

**文档维护人**：总调度官
**最后更新时间**：2025-12-23
**文档版本**：v1.3
